package  {		import flash.display.MovieClip;	import flash.events.Event;	import flash.net.URLLoader;	import flash.net.URLRequest;			public class MapGenerator extends MovieClip {				public var spacing:Number = 1;		private var mapData:Array;		private var nrows:int = 143;		private var ncols:int = 360;				public function MapGenerator() {						var myLoader:URLLoader = new URLLoader();			myLoader.addEventListener(Event.COMPLETE, onDataLoaded);			myLoader.load(new URLRequest("glp00ag60.asc"));					}				private function onDataLoaded(e:Event):void {			var popData:Array = e.target.data.split(/\n/);			popData.splice(0,6);			mapData = popData;			drawMap();		}				private function drawMap():void {			var values:Array = new Array();			for (var i=0; i<=nrows; i++) {				//trace(i + ": " + mapData[i]);				values = mapData[i].split(' ');				trace(values.length);				for (var j=0; j<=ncols; j++) {					var block:MapUnit = new MapUnit(values[j]);					block.y = i * (block.h + spacing);					block.x = j * (block.w + spacing);					addChild(block);				}			}		}			}	}